<!DOCTYPE html>
<html>
    <style>
        body{
            background-color: #f4f4f4;
        }
    </style>
<head>
    <title>Submit Your Offer</title>
</head>
<script>
    function handleFormSubmit(submit) {
        event.preventDefault();
        const form = event.target;
        const formData = new FormData(form);

    function includeHTML() {
        var z, i, elmnt, file, xhttp;
        z = document.getElementsByTagName("*");
        for (i = 0; i < z.length; i++) {
            elmnt = z[i];
            file = elmnt.getAttribute("include-html");
            if (file) {
                xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4) {
                        if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                        if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
                        elmnt.removeAttribute("include-html");
                        includeHTML();
                    }
                }      
                xhttp.open("GET", file, true);
                xhttp.send();
                return;
            }
        }
    }
    document.getElementById('offer').addEventListener('submit', (event) => {
        event.preventDefault();
        const form = event.target;
        const formData = new FormData(form);

        fetch('/offer_email.php', {
            method: 'POST',
            body: formData,
        })
            .then((response) => response.text())
            .then((message) => {
                document.getElementById('message').textContent = message;
            })
            .catch((error) => {
                console.error(error);
            });
    });}
</script>
<body onload="includeHTML()">  
<div include-html="../header.html">
</div>
<div include-html="sidenav.html">
  </div>
    <div class="content">
        <h1>Submit Your Offer</h1>
        <p>Please fill out the form below to submit your offer for the desired property.</p>

        <form id="offer" action="offer_submission.php" method="post">
            <label for="name">Name:</label><br>
            <input type="text" id="name" name="name" required><br><br>

            <label for="email">Email:</label><br>
            <input type="email" id="email" name="email" required><br><br>

            <label for="phone">Phone Number:</label><br>
            <input type="text" id="phone" name="phone" required><br><br>

            <label for="address">Property Address:</label><br>
            <input type="text" id="address" name="address" required><br><br>

            <label for="offer">Your Offer ($):</label><br>
            <input type="number" id="offer" name="offer" required><br><br>

            <input type="submit" value="Submit Offer">
        </form>
    </div>
    <div include-html="../footer.html"></div>
</body>
</html>
